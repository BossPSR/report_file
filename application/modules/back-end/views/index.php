<!-- BEGIN: Content-->
<script src="http://code.jquery.com/jquery-latest.js"></script>
<div class="app-content content">
    <div class="content-overlay"></div>
    <div class="header-navbar-shadow"></div>
    <div class="content-wrapper">
        <div class="content-header row">
        </div>
        <div class="content-body">

       
            <!-- Dashboard Analytics Start -->
            <div class="content-header-left col-md-9 col-12 mb-2">
                <div class="row breadcrumbs-top">
                    <div class="col-12">
                        <h2 class="content-header-title float-left mb-0">Dashboard</h2>
                        <div class="breadcrumb-wrapper col-12">
                            <ol class="breadcrumb">
                              
                                <li class="breadcrumb-item active">Dashboard
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <section id="dashboard-analytics">
                <!-- <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">Team</h4>
                            </div>
                            <div class="card-content">
                                <div class="table-responsive mt-1">
                                    <table class="table table-hover-animation mb-0">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th>Amount</th>
                                                <th>Availble</th>
                                                <th>Online Now Available</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>#879985</td>
                                                <td><i class="fa fa-circle font-small-3 text-success mr-50"></i>Moving</td>
                                                <td class="p-1">
                                                    <ul class="list-unstyled users-list m-0  d-flex align-items-center">
                                                        <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Vinnie Mostowy" class="avatar pull-up">
                                                            <img class="media-object rounded-circle" src="public/backend/assets/images/portrait/small/avatar-s-5.jpg" alt="Avatar" height="30" width="30">
                                                        </li>
                                                        <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Elicia Rieske" class="avatar pull-up">
                                                            <img class="media-object rounded-circle" src="public/backend/assets/images/portrait/small/avatar-s-7.jpg" alt="Avatar" height="30" width="30">
                                                        </li>
                                                        <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Julee Rossignol" class="avatar pull-up">
                                                            <img class="media-object rounded-circle" src="public/backend/assets/images/portrait/small/avatar-s-10.jpg" alt="Avatar" height="30" width="30">
                                                        </li>
                                                        <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Darcey Nooner" class="avatar pull-up">
                                                            <img class="media-object rounded-circle" src="public/backend/assets/images/portrait/small/avatar-s-8.jpg" alt="Avatar" height="30" width="30">
                                                        </li>
                                                    </ul>
                                                </td>
                                              
                                                <td>
                                                    <span>130 km</span>
                                                    <div class="progress progress-bar-success mt-1 mb-0">
                                                        <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

                <!-- <div class="row">
                    <div class="col-3">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">Item</h4>
                            </div>
                            <div class="card-content">
                                <div class="table-responsive mt-1">
                                    <table class="table table-hover-animation mb-0" id="myTable">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                               

                                            </tr>
                                        </thead>
                                        <tbody id="myBody">
                                          
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">Order</h4>
                            </div>
                            <div class="card-content">
                                <div class="table-responsive mt-1">
                                    <table class="table table-hover-animation mb-0" id="myTable1">
                                        <thead>
                                            <tr>
                                               
                                                <th>Order</th>
                                               

                                            </tr>
                                        </thead>
                                        <tbody id="myBody1">
                                          
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">Confirmed</h4>
                            </div>
                            <div class="card-content">
                                <div class="table-responsive mt-1">
                                    <table class="table table-hover-animation mb-0" id="myTable2">
                                        <thead>
                                            <tr>
                                              
                                                <th>Confirmed</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody id="myBody2">
                                          
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">Availble</h4>
                            </div>
                            <div class="card-content">
                                <div class="table-responsive mt-1">
                                    <table class="table table-hover-animation mb-0" id="myTable3">
                                        <thead>
                                            <tr>
                                               
                                                <th>Availble</th>

                                            </tr>
                                        </thead>
                                        <tbody id="myBody3">
                                          
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

				<div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="mb-0">Dispatched Orders</h4>
                                </div>
                                <div class="card-content">
                                    <div class="table-responsive mt-1">
                                        <table class="table table-hover-animation mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Item</th>
                                                    <th>Original</th>
                                                    <th>Not Complete </th>
                                                    <th>Rewrite</th>
                                                    <th>Not Satified</th>
                                                    <th>รวมทั้งหมด</th>
                                                    <th>อ่านคำอธิบาย</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
													<th>Delivery</th>
													<?php foreach ($deliveryList as $delivery) { ?>
														<td><?php echo $delivery; ?></td>
													<?php } ?>
													<td>รวมจำนวน Order ตั้งแต่เปิดระบบ</td>
												</tr>
												<tr>
													<th>Feedback All</th>
                                                    <?php foreach ($feedback_allList as $feedback_all) { ?>
														<td><?php echo $feedback_all; ?></td>
													<?php } ?>
													<td>รวม Feedbackตั้งแต่เปิดระบบ</td>
												</tr>
												<tr>
													<th>Processing New Order</th>
                                                    <?php foreach ($processingList as $processing) { ?>
														<td><?php echo $processing; ?></td>
													<?php } ?>
													<td>Orderปรกติที่กำลังดำเนินการแต่ไม่รวม Feedback</td>
												</tr>
												<tr>
													<th>Processing Feedback</th>
													<?php foreach ($processing_feedbackList as $processing_feedback) { ?>
														<td><?php echo $processing_feedback; ?></td>
													<?php } ?>
													<td>Orderที่ถูก Feedback แต่ไม่รวม Order ปรกติ</td>
												</tr>
												<tr>
													<th>Cancel</th>
													<?php foreach ($cancelList as $cancel) { ?>
														<td><?php echo $cancel; ?></td>
													<?php } ?>
													<td>Orderที่ทีมกดยกเลิกทั้งOrderปรกติและFeedback</td>
												</tr>
												<tr>
													<th>Cancel Not Working</th>
													
													<?php foreach ($cancel_notWorkingList as $cancel_notWorking) { ?>
														<td><?php echo $cancel_notWorking; ?></td>
													<?php } ?>
													<td>Orderที่ทีมไม่กดยกเลิกทั้งOrderปรกติและFeedback</td>
                                                </tr>
                                                
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

            </section>
            <!-- Dashboard Analytics end -->

        </div>
    </div>
</div>
<!-- END: Content-->
<script>
function getDataFromDb()
{
	$.ajax({ 
				url: "realtime_data" ,
				type: "POST",
				data: ''
			})
			.success(function(result) { 
				var obj = jQuery.parseJSON(result);
					if(obj != '')
					{
						  //$("#myTable tbody tr:not(:first-child)").remove();
						  $("#myBody").empty();
						  $.each(obj, function(key, val) {
                           
									var tr = "<tr>";
                                    tr = tr + "<td>" + val["name_item"] + "</td>";
                                   
                                   
									tr = tr + "</tr>";
									$('#myTable > tbody:last').append(tr);
						  });
					}

			});

}

setInterval(getDataFromDb, 1000);   // 1000 = 1 second
</script> 

<script>
function getDataFromDb1()
{
	$.ajax({ 
				url: "realtime_data1" ,
				type: "POST",
				data: ''
			})
			.success(function(result) { 
				var obj = jQuery.parseJSON(result);
					if(obj != '')
					{
						  //$("#myTable tbody tr:not(:first-child)").remove();
						  $("#myBody1").empty();
						  $.each(obj, function(key, val) {
                            var data =  val["position_number"];

									var tr = "<tr>";
                                    if(data==null ){
                                    tr = tr + "<td>" + 0 + "</td>";
                                }else{
                                    tr = tr + "<td>" + data + "</td>";
                                }
                                   
									tr = tr + "</tr>";
									$('#myTable1 > tbody:last').append(tr);
						  });
					}

			});

}

setInterval(getDataFromDb1, 1000);   // 1000 = 1 second
</script> 


<script>
function getDataFromDb2()
{
	$.ajax({ 
				url: "realtime_data2" ,
				type: "POST",
				data: ''
			})
			.success(function(result) { 
				var obj = jQuery.parseJSON(result);
					if(obj != '')
					{
						  //$("#myTable tbody tr:not(:first-child)").remove();
						  $("#myBody2").empty();
						  $.each(obj, function(key, val) {
                            var data =  val["status_dashboard"];
									var tr = "<tr>";
                                    if(data==1 ){
                                        tr = tr + "<td>" + val["team_number"]; + "</td>";
                            
                                    }else{
                                        tr = tr + "<td>" + 0 + "</td>";
                                    }
                                   
									tr = tr + "</tr>";
									$('#myTable2 > tbody:last').append(tr);
						  });
					}
                    console.log(obj);

			});

}

setInterval(getDataFromDb2, 1000);   // 1000 = 1 second
</script> 

<script>
function getDataFromDb3()
{
	$.ajax({ 
				url: "realtime_data3" ,
				type: "POST",
				data: ''
			})
			.success(function(result) { 
				var obj = jQuery.parseJSON(result);
					if(obj != '')
					{
						  //$("#myTable tbody tr:not(:first-child)").remove();
						  $("#myBody3").empty();
						  $.each(obj, function(key, val) {
                            var data =  val["status_dashboard"];
									var tr = "<tr>";
                                    if(data==0 ){
                                        tr = tr + "<td>" + val["team_number"]; + "</td>";
                                    }else{
                                       
                                         tr = tr + "<td>" + 0 + "</td>";
                                    }
                                   
                                   
									tr = tr + "</tr>";
									$('#myTable3 > tbody:last').append(tr);
						  });
					}
                    console.log(obj);

			});

}

setInterval(getDataFromDb3, 1000);   // 1000 = 1 second
</script> 


